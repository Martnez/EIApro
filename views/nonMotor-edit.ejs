<%- include ('./includes/header.ejs') %>
  <body>
    <div class="dash-container">
      <div class="hover-hamburger" id="hover_hamburger">
        <div class="inner-hamburger">
          <div class="bar"></div>
          <div class="bar"></div>
          <div class="bar"></div>
        </div>
      </div>
      <div class="nav-overlay" id="overlay"></div>
      <div class="side-bar" id="side_bar">
        <div class="other-hover-hamburger show" id="other_hover_hamburger">
          <div class="inner-hamburger">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
          </div>
        </div>
        <div class="side-bar-content">
          <div class="top-image-holder dash-img">
            <img src="/images/eia_logo.png" alt="" />
          </div>
          <ul class="links">
            <li class="list">
              <a href="/dashboard" class="link">Home</a>
            </li>
            <li class="list">
              <a href="/clients" class="link">Clients</a>
            </li>
            <li class="list">
              <a href="/underwriting" class="link active">Underwriting</a>
            </li>
            <li class="list">
              <a href="/claims" class="link">Claims</a>
            </li>
            <li class="list">
              <a href="/vehicles" class="link">Vehicles</a>
            </li>
            <li class="list">
              <a href="/credit" class="link">Reports</a>
            </li>
          </ul>
          <ul class="links lower">
            <li class="list">
              <a href="/admin" class="link">Admin</a>
            </li>
            <li class="list">
              <a href="/logout" class="link logout">Logout</a>
            </li>
          </ul>
        </div>
      </div>
      <div class="top-bar">
        <div class="user-name-space">
          <div class="user-icon">
            <div class="image-holder">
              <img src="/images/user-img.png" alt="" />
            </div>
            <h3 class="username-dash">Hello <%= user.firstName %> </h3>
          </div>
        </div>
      </div>
      <div class="time-bar">
        <h3 id="date_value"></h3>
      </div>
      <div class="dash-main">
        <div class="dash-content">
          <div class="data-input-content">
            <h2 class="data-input-title">Edit Policy Details</h2>
            <form action="" method="post" class="form-action">
              <div class="form-contents">
                <div class="rows">
                  <div class="data-col">
                    <div class="input-holder inside" style="flex-wrap: wrap">
                      <h4
                        style="
                          width: 100%;
                          margin: 0.2rem 0;
                          font-weight: 400;
                          font-size: 15px;
                        "
                      >
                      Client Name
                      </h4>
                      <input
                        list="client_name"
                        class="input-space"
                        placeholder="Select or Enter Client name"
                        name="clientName"
                        value="<%= policy.client.firstName%> <%= policy.client.lastName%>    "
                      />
                    </div>
                    <div class="input-holder inside" style="flex-wrap: wrap">
                      <h4
                        style="
                          width: 100%;
                          margin: 0.2rem 0;
                          font-weight: 400;
                          font-size: 15px;
                        "
                      >
                      Policy Number
                      </h4>
                      <input
                        type="text"
                        placeholder="Policy Number"
                        value="<%= policy.policyNumber %> "
                        name="policyNumber"
                        class="input-space"
                      />
                    </div>
                    <div class="input-holder inside" style="flex-wrap: wrap">
                      <h4
                        style="
                          width: 100%;
                          margin: 0.2rem 0;
                          font-weight: 400;
                          font-size: 15px;
                        "
                      >
                      Branch/ Project name
                      </h4>
                      <input
                        type="text"
                        placeholder="Branch/ Project Name"
                       value="<%= policy.policyName %> "
                        name="policyName"
                        class="input-space"
                      />
                    </div>
                    <div class="input-holder inside" style="flex-wrap: wrap">
                      <h4
                        style="
                          width: 100%;
                          margin: 0.2rem 0;
                          font-weight: 400;
                          font-size: 15px;
                        "
                      >
                      Cover type
                      </h4>
                      <select
                        name="coverType"
                        class="input-space"
                        id="class_selection"
                      >
                        <option value="<%= policy.coverType %>" selected><%= policy.coverType %> </option>
                        <option value="">--INDIVIDUAL--</option>
                        <option value="Personal Accident">
                          Personal Accident
                        </option>
                        <option value="Professional Indemnity">
                          Professional Indemnity
                        </option>
                        <option value="Others">Others</option>
                        <option value="">--CORPORATE--</option>
                        <option value="Contrators all risk">
                          Contrators all risk
                        </option>
                        <option value="Marine Cargo">Marine Cargo</option>
                        <option value="Fidelity Guarantee">
                          Fidelity Guarantee
                        </option>
                        <option value="Work Injury Benefit">
                          Work Injury Benefit
                        </option>
                        <option value="Employer's Liability">
                          Employer's Liability
                        </option>
                        <option value="Public Liability">
                          Public Liability
                        </option>
                        <option value="Fire and Perils">Fire and Perils</option>
                        <option value="Bulglary">Bulglary</option>
                        <option value="Contractor's Plant and Machinery">
                          Contractor's Plant and Machinery
                        </option>
                        <option value="Goods in transit">
                          Goods in transit
                        </option>
                        <option value="">--BONDS--</option>
                        <option value="CB1 A">CB1 A</option>
                        <option value="CB 3">CB 3</option>
                        <option value="CB 16">CB 16</option>
                        <option value="CB 13">CB 13</option>
                      </select>
                    </div>
                    <div
                      class="input-holder inside"
                      id="reg_number_holder"
                      style="display: none;flex-wrap: wrap">
                      <h4
                        style="
                          width: 100%;
                          margin: 0.2rem 0;
                          font-weight: 400;
                          font-size: 15px;
                        "
                      >
                      Registration Number
                      </h4>
                      <input
                        type="text"
                        placeholder="Registration Number"
                        value="<%= policy.regN %> "
                        id="reg_number"
                        name="regN"
                        class="input-space"
                      />
                    </div>
                    <div
                      class="input-holder inside"
                      id="chasis_number_holder"
                      style="display: none;flex-wrap: wrap">
                      <h4
                        style="
                          width: 100%;
                          margin: 0.2rem 0;
                          font-weight: 400;
                          font-size: 15px;
                        "
                      >
                      Chassis Number
                      </h4>
                      <input
                        type="text"
                        id="chasis_number"
                        placeholder="Chassis Number"
                        value="<%= policy.chassis %> "
                        name="chassisN"
                        class="input-space"
                      />
                    </div>
                    <div class="input-holder inside"
                    style="flex-wrap: wrap">
                    <h4
                      style="
                        width: 100%;
                        margin: 0.2rem 0;
                        font-weight: 400;
                        font-size: 15px;
                      "
                    >
                    Insurer
                    </h4>
                      <select
                        name="insurer"
                        required
                        class="input-space"
                        id="class_selection">
                        <option value="<%= policy.insurer %> " selected><%= policy.insurer %> </option>
                        <option value="APA Insurance Limited">
                          APA Insurance Limited
                        </option>
                        <option value="Britam General Ins. Co. (K) Ltd">
                          Britam General Ins. Co. (K) Ltd
                        </option>
                        <option value="CIC General Insurance Ltd">
                          CIC General Insurance Ltd
                        </option>
                        <option value="Fidelity Shield  Insurance Co. Ltd">
                          Fidelity Shield Insurance Co. Ltd
                        </option>
                        <option value="Fisrt Assurance Company Ltd">
                          Fisrt Assurance Company Ltd
                        </option>
                        <option value="ICE LION General Insurance Ltd">
                          ICE LION General Insurance Ltd
                        </option>
                        <option value="Mayfair Insurance Company Ltd">
                          Mayfair Insurance Company Ltd
                        </option>
                        <option value="Occidental Insurance Co. Ltd">
                          Occidental Insurance Co. Ltd
                        </option>
                        <option value="Mua Insurance (Kenya) Limited">
                          Mua Insurance (Kenya) Limited
                        </option>
                        <option value="Intra Africa Assurance">
                          Intra Africa Assurance
                        </option>
                        <option value="Sanlam General Insurance Ltd">
                          Sanlam General Insurance Ltd
                        </option>
                        <option value="Resolution Insurance Company Ltd">
                          Resolution Insurance Company Ltd
                        </option>
                      </select>
                    </div>
                  </div>
                  <div class="data-col">
                    <div class="split-diplay" style="flex-wrap: wrap">
                      <h4
                        style="
                          width: 100%;
                          margin: 0.2rem 0 0.2rem 1rem ;
                          font-weight: 400;
                          font-size: 15px;
                        "
                      >
                      Policy Period
                      </h4>
                      <div class="input-holder split">
                        <input
                          type="text"
                          placeholder="Policy Period (From)"
                          onblur="(this.type='text')"
                          onfocus="(this. type='date')"
                          required
                          value="<%= policy.policyStart %> "
                          name="policyStart"
                          id="start_date"
                          class="input-space"
                        />
                      </div>
                      <div class="input-holder split">
                        <input
                          type="text"
                          placeholder="Policy Period (to)"
                          onblur="(this.type='text')"
                          onfocus="(this. type='date')"
                          id="end_date"
                          value="<%= policy.policyEnd %> "
                          required
                          name="policyEnd"
                          class="input-space"
                        />
                      </div>
                    </div>
                    <div class="split-diplay">
                      <div class="input-holder split" id="stamp_duty_holder" style="flex-wrap: wrap">
                        <h4
                          style="
                            width: 100%;
                            margin: 0.2rem 0;
                            font-weight: 400;
                            font-size: 15px;
                          "
                        >
                        Stamp Duty
                        </h4>
                        <input
                          class="input-space"
                          type="text"
                          placeholder="Stamp Duty (Kshs)"
                          value="<%= policy.stampDuty %> "
                          name="stampDuty"
                          id="stamp_duty"
                        />
                      </div>
                      <div class="input-holder split" id="rate_holder" style="flex-wrap: wrap">
                        <h4
                          style="
                            width: 100%;
                            margin: 0.2rem 0;
                            font-weight: 400;
                            font-size: 15px;
                          "
                        >
                        Rate
                        </h4>
                        <input
                          class="input-space"
                          type=""
                          value="<%= policy.rate %>"
                          placeholder="Rate"
                          name="rate"
                          id="rate"
                        />
                      </div>
                    </div>
                    
                    
                    <div class="split-diplay">
                      <div class="input-holder split" id="sum_insured_better_holders" style="flex-wrap: wrap">
                        <h4
                          style="
                            width: 100%;
                            margin: 0.2rem 0;
                            font-weight: 400;
                            font-size: 15px;
                          "
                        >
                        Sum Insured (Kshs)
                        </h4>
                        <input
                          type="text"
                          placeholder="Sum Insured (Kshs)"
                          onkeyup="cashConcut2()"
                          onblur="cashConcut2()"
                          onload="cashConcut2()"
                          id="other_sum_insured_input"
                          value="<%= policy.sumInsured %>"
                          name="other_sum_insured_input"
                          class="input-space"
                        />
                      </div>
                      <%  var item_disp = policy.sumInsured %> 
                      <% if(policy.coverType=="Work Injury Benefit"||policy.coverType=="Group Personal Accident" ||policy.coverType=="Personal Accident"){%> 
                      <% item_disp= policy.basicPremium %> <% } %> 
                      <div class="input-holder split" id="sum_insured_holders" style="flex-wrap: wrap">
                        <h4
                          style="
                            width: 100%;
                            margin: 0.2rem 0;
                            font-weight: 400;
                            font-size: 15px;
                          "
                          id="sum_insured_label"
                        >
                        Sum Insured
                        </h4>
                        <input
                          type="text"
                          placeholder="Sum Insured (Kshs)"
                          required
                          onload="cashConcut()"
                          onkeyup="cashConcut()"
                          onblur="cashConcut()"
                          value="<%= item_disp %>"
                          id="sum_insured_input"
                          name="sumInsured"
                          class="input-space"
                        />
                      </div>
                    </div>
                    <div class="input-holder inside" style="display: none">
                      <input
                        type="text"
                        placeholder="Sum Insured Better"
                        value="<%= policy.sumInsured %>"
                        id="sum_insured_better"
                        name="sum_insured_better"
                        class="input-space"
                      />
                    </div>
                    <div class="input-holder inside" style="display: none">
                      <input
                        type="text"
                        placeholder="Sum Insured Poa"
                        required
                        id="sum_insured_poa"
                        value="<%= item_disp%>"
                        name="sumInsuredPoa"
                        class="input-space"
                      />
                    </div>
                    <div class="input-holder" style="flex-wrap: wrap">
                      <h4
                        style="
                          width: 100%;
                          margin: 0.2rem 0;
                          font-weight: 400;
                          font-size: 15px;
                        "
                      >
                      Remarks
                      </h4>
                      <textarea
                        style="
                          height: auto;
                          padding: 1rem 0 0 1rem;
                          max-width: 523px;
                          max-height: 90px;
                        "
                        type="text"
                        id="policy_remarks"
                        rows="8"
                        required
                        class="input-space"
                        placeholder="Policy Remarks"
                        name="remarks"
                      > <%= policy.remarks %> </textarea>
                    </div>
                  </div>
                </div>
                <div class="benefits-list-display" id="benefits_list">
                  <h2 style="margin: 0 0 0.3rem 1rem">Benefits List</h2>
                  <div class="rows">
                    <div class="data-col">
                      <div class="rows">
                        <div class="data-col">
                          <div
                            class="split-diplay other"
                            style="align-items: center; display: none"
                            id="pal_holder"
                          >
                            <div class="checkbox-holder">
                              <label for="pal" class="check-box"
                                >Personal Accident Loading (P.A.L)</label
                              >
                            </div>
                            <div class="check-box-holder-data">
                              <input
                                type="number"
                                placeholder="Basic Premium(Kshs)"
                                name="PAL"
                                value="<%= policy.PAL %>"
                                id="pal_basic_premium"
                                class="input-space"
                              />
                            </div>
                          </div>
                          <div
                            class="split-diplay other"
                            style="align-items: center; display: none"
                            id="mp_holder"
                          >
                            <div class="checkbox-holder">
                              <label for="mp" class="check-box"
                                >Maintenance Period (M.P)</label
                              >
                            </div>
                            <div class="check-box-holder-data">
                              <input
                                type="number"
                                placeholder="Basic Premium(Kshs)"
                                name="MP"
                                value="<%= policy.MP %>"
                                id="mp_basic_premium"
                                class="input-space"
                              />
                            </div>
                          </div>
                          <div
                            class="split-diplay other"
                            style="align-items: center; display: none"
                            id="pvt_holder"
                          >
                            <div class="checkbox-holder">
                              <label for="pvt" class="check-box"
                                >Political Violence &amp; Terrorism
                                (P.V.T)</label
                              >
                            </div>
                            <div class="check-box-holder-data">
                              <input
                                type="number"
                                placeholder="Basic Premium(Kshs)"
                                name="PVT"
                                value="<%= policy.PVT %>"
                                id="pvt_basic_premium"
                                class="input-space"
                              />
                            </div>
                          </div>
                          <div
                            class="split-diplay other"
                            style="align-items: center; display: none"
                            id="tpl_holder"
                          >
                            <div class="checkbox-holder">
                              <label for="tpl" class="check-box"
                                >Third Party Liability</label
                              >
                            </div>
                            <div class="check-box-holder-data">
                              <input
                                type="number"
                                placeholder="Basic Premium(Kshs)"
                                name="TPL"
                                value="<%= policy.TPL %>"
                                id="tpl_basic_premium"
                                class="input-space"
                              />
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="data-col"></div>
                  </div>
                </div>
                <div class="button-holder" style="margin-left: 1.5rem">
                  <button name="" class="btn add-new">Update</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <script src="/js/non-motor-benefits.js"></script>
    <script src="/js/policy-period.js"></script>
    <script src="/js/time.js"></script>
    <script src="/js/nav.js"></script>
  </body>
</html>
